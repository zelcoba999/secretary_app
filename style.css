:root {
  --bg-1:#0f1418;
  --bg-2:#11161b;
  --panel:#1c232a;
  --panel-2:#171d23;
  --text:#e6eaee;
  --muted:#a6b0bb;
  --accent:#66a3ff;
  --ring:#7aa8ff;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --inset: inset 0 1px 0 rgba(255,255,255,.05),
           inset 0 -1px 0 rgba(0,0,0,.4);
  --radius: 18px;
}

/* 全体・背景 */
html,body {
  height:100%;
  margin:0;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 70% 20%, rgba(102,163,255,.10), transparent 60%),
    radial-gradient(900px 700px at 20% 85%, rgba(102,163,255,.06), transparent 60%),
    linear-gradient(180deg, var(--bg-2), var(--bg-1));
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
}

.shell {
  min-height:100%;
  display:grid;
  grid-template-rows: 1fr auto 1fr;
  align-items:center;
  justify-items:center;
  position:relative;
  padding: clamp(16px, 2vw, 32px);
}

/* マイク */
.mic-wrap { display:flex; align-items:center; justify-content:center; }
.mic-btn {
  appearance:none; border:0; background:transparent; cursor:pointer;
  width:min(180px, 22vmin); height:min(180px, 22vmin); border-radius:50%;
  position:relative; isolation:isolate;
  box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .2s ease;
  outline:none;
}
.mic-btn::before {
  content:""; position:absolute; inset:-8px;
  border-radius:inherit;
  background: radial-gradient(60% 60% at 50% 40%, rgba(122,168,255,.18), transparent 65%),
              radial-gradient(80% 80% at 50% 60%, rgba(122,168,255,.10), transparent 70%);
  z-index:-1;
}
.mic-surface {
  width:100%; height:100%; border-radius:50%;
  background: radial-gradient(100% 100% at 50% 25%, #29323a 0%, #161c22 65%, #12171c 100%);
  box-shadow: var(--inset), 0 12px 30px rgba(0,0,0,.45);
  display:grid; place-items:center;
}
.mic-btn:hover { transform: translateY(-2px) scale(1.02); }
.mic-btn:active { transform: translateY(0) scale(.98); }
.mic-btn:focus-visible { box-shadow: 0 0 0 4px rgba(122,168,255,.35), var(--shadow); }

/* 検索バー */
.search {
  margin-top: clamp(20px, 2.8vmin, 28px);
  width:min(960px, 88vw);
  display:flex; align-items:center; gap:14px;
  background: linear-gradient(180deg, #1a2128, #151b21);
  border-radius: 999px;
  padding: 16px 22px;
  box-shadow: var(--inset), 0 8px 24px rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.04);
}
.search .icon { width:26px; height:26px; flex:0 0 auto; opacity:.9; }
.search input {
  flex:1 1 auto;
  background:transparent; border:0; outline:none;
  padding:4px 2px;
  color:var(--text); font-size: clamp(16px, 1.4vw, 20px);
}
.search input::placeholder { color:var(--muted); opacity:.9; }
.search:focus-within {
  box-shadow: 0 0 0 4px rgba(122,168,255,.18), var(--inset), 0 10px 28px rgba(0,0,0,.4);
  border-color:rgba(122,168,255,.35);
}

/* カレンダーボタン */
.calendar-btn {
  position:fixed;
  right: clamp(20px, 3vw, 40px);
  bottom: clamp(20px, 3vw, 40px);
  appearance:none; border:0; cursor:pointer; outline:none;
  width:72px; height:72px; border-radius:20px;
  background: linear-gradient(180deg, #222a33, #151b21);
  color:var(--text);
  display:grid; place-items:center;
  box-shadow: 0 10px 24px rgba(0,0,0,.45), var(--inset);
  border:1px solid rgba(255,255,255,.06);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
}
.calendar-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 16px 30px rgba(0,0,0,.55), var(--inset);
}
.calendar-btn:active { transform: translateY(0) scale(.98); }
.calendar-btn:focus-visible {
  box-shadow: 0 0 0 4px rgba(122,168,255,.35), 0 14px 30px rgba(0,0,0,.55), var(--inset);
}
.calendar-btn .badge {
  position:absolute; top:-8px; right:-8px;
  background: linear-gradient(180deg, #78a8ff, #4b86ff);
  color:#fff; font-weight:600; font-size:12px;
  padding:4px 8px; border-radius:999px;
  box-shadow: 0 6px 16px rgba(75,134,255,.35);
}

/* レイアウト調整 */
@media (min-aspect-ratio: 16/10){
  .shell { grid-template-rows: 1fr auto 2fr; }
}
@media (max-width: 720px){
  .mic-btn { width:128px; height:128px; }
  .calendar-btn { width:60px; height:60px; border-radius:16px; }
}
